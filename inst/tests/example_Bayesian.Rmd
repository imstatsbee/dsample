---
title: "R Notebook"
output: html_notebook
editor_options: 
  chunk_output_type: console
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

# Bayesian Examples 

### Marriage Rates in Italy / Hierarchical Gamma-Poisson Model 

```{r}
dfr <- data.frame(year=1936:1951, count=c(7,9,8,7,7,6,6,5,5,7,9,10,8,8,8,7))
dfr
```

```{r}
library(R2OpenBUGS)
library(lattice)
library(coda)
data <- list(t=c(94.3, 15.7, 62.9, 126, 5.24, 31.4, 1.05, 1.05, 2.1, 10.5), x=c(5, 1, 5, 14, 3, 19, 1, 1, 4, 22), N=10)
parameters <- c("alpha", "beta", "theta[1]", "theta[2]", "theta[3]", "theta[4]", "theta[5]", "theta[6]", "theta[7]", "theta[8]", "theta[9]", "theta[10]")
inits1 <- list(alpha=1, beta=1, theta=c(1,1,1,1,1,1,1,1,1,1))
inits2 <- list(alpha=5, beta=1, theta=c(1,1,1,1,1,1,1,1,1,1))
inits3 <- list(alpha=2, beta=3, theta=c(1,1,1,1,1,1,1,1,1,1))
inits <- list(inits1, inits2, inits3)
model.sim <- bugs(data=data, inits=inits, 
                  parameters.to.save=parameters, n.iter=2e3, 
                  model.file="pump.txt", 
                  working.directory="C:/Users/chelhee.lee.UC/Documents/_projects_/dsample/dsample/inst/tests/models/",
                  codaPkg=TRUE)
model.coda <- read.bugs(model.sim)
summary(model.coda)
xyplot(model.coda)
acfplot(model.coda)
densityplot(model.coda)
str(model.coda)
```
